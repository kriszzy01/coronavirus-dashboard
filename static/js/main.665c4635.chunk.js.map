{"version":3,"sources":["api/index.ts","slices/worldwide.ts","utils/data.ts","utils/helpers.ts","utils/map.js","utils/chart.ts","slices/country.ts","slices/province.ts","selectors/index.ts","slices/map.ts","components/Dropdown.tsx","components/Searchbar.tsx","hooks/useSearchbar.ts","blocks/Header.tsx","components/Card.tsx","components/MapControls.tsx","blocks/Map.tsx","blocks/DataSummary.tsx","App.tsx","slices/index.ts","index.tsx"],"names":["getProvince","a","axios","get","response","data","getCountries","getWorldWide","fetchStart","state","status","error","fetchFailure","payload","statistics","createSlice","name","initialState","cummulative","active","affectedCountries","todayCases","todayDeaths","todayRecovered","recovered","deaths","updated","cases","confirmed","historical","reducers","fetchWorldWideStart","fetchWorldWideSuccess","fetchWorldWideFailure","fetchAllHistoricalStart","fetchAllHistoricalSuccess","fetchAllHistoricalFailure","actions","countryNames","Burma","Eswatini","Laos","Libya","Syria","US","featuresToGeoJsonArray","featuresObject","Object","values","map","feature","location","type","properties","geometry","coordinates","longitude","latitude","commify","value","numberString","String","split","reverse","reduce","prev","next","index","shouldComma","length","updatedValue","join","iconSizeByCases","customProvincePayload","province","newResponse","forEach","resp","country","push","matchCountryNames","tileLayer","process","markerCreator","dataType","targetDataFunction","latLng","markerProps","stats","tests","size","class","html","toFixed","getMarkerProps","marker","L","icon","divIcon","className","iconSize","bindPopup","bindTooltip","on","target","_map","latlng","flyTo","fetchCountryStart","fetchCountrySuccess","normalizedPayload","countryInfo","lat","long","flag","customPayload","customCountryPayload","fetchCountryFailure","fetchProvinceStart","fetchProvinceSuccess","fetchProvinceFailure","getWorldwide","worldwide","getCountry","getMapData","mapData","activeData","getTargetData","targetData","setMapData","setTargetData","Dropdown","searchResult","searchTerm","setSearchTerm","dispatch","useDispatch","isSearchResults","useEffect","document","querySelector","setAttribute","removeAttribute","id","data-expanded","key","onClick","src","alt","Searchbar","setOpenSearchbar","searchbarRef","useRef","initialValue","ref","useState","setValue","handleClickOutside","event","current","contains","addEventListener","removeEventListener","useSearchbar","searchInput","setSearchInput","countries","useSelector","filter","toLowerCase","startsWith","aria-hidden","style","height","xmlns","width","d","fill","placeholder","onChange","aria-label","Header","openSearchbar","openMenu","setOpenMenu","data-searchcountry","aria-labelledby","aria-expanded","role","Card","title","today","total","tabItems","MapControls","mapInstance","useMap","provinces","provinceGeoJson","countriesGeoJson","geoJsonArray","includes","dynamicFlyTo","geoJson","option","locationsGeoJsonLayers","features","geoJSON","pointToLayer","addTo","removeFrom","item","data-selected","zoom","window","innerWidth","setView","fillRule","Map","children","southWest","LatLng","northEast","bounds","latLngBounds","MapContainer","center","minZoom","zoomControl","maxBounds","maxBoundsViscosity","DataSummary","world","customWorldwide","targetCountry","TileLayer","attribution","url","ZoomControl","position","Date","toString","App","message","rootReducer","combineReducers","worldwideReducer","mapDataReducer","countryReducer","provinceReducer","store","configureStore","reducer","render"],"mappings":"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","file":"static/js/main.665c4635.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const getProvince = async () => {\r\n  const request_url = \"https://disease.sh/v3/covid-19/jhucsse\";\r\n\r\n  try {\r\n    const response = await axios.get(request_url);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getCountries = async () => {\r\n  const request_url = \"https://disease.sh/v3/covid-19/countries\";\r\n\r\n  try {\r\n    const response = await axios.get(request_url);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getWorldWide = async () => {\r\n  const request_url = \"https://disease.sh/v3/covid-19/all\";\r\n\r\n  try {\r\n    const response = await axios.get(request_url);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getAllHistorical = async () => {\r\n  const request_url = \"https://disease.sh/v3/covid-19/historical/all?lastdays=360\";\r\n\r\n  try {\r\n    const response = await axios.get(request_url);\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getHistoricalData = async () => {};\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { getWorldWide, getAllHistorical } from \"../api\";\r\n\r\nimport { AppThunk, WorldWide, HistoricalAll, WorldwideState } from \"../types\";\r\n\r\nconst initialState: WorldwideState = {\r\n  status: \"idle\",\r\n  error: null,\r\n  cummulative: {\r\n    active: 0,\r\n    affectedCountries: 0,\r\n    todayCases: 0,\r\n    todayDeaths: 0,\r\n    todayRecovered: 0,\r\n    recovered: 0,\r\n    deaths: 0,\r\n    updated: 0,\r\n    cases: 0,\r\n    confirmed: 0,\r\n  },\r\n  historical: {\r\n    cases: {},\r\n    deaths: {},\r\n    recovered: {},\r\n  },\r\n};\r\n\r\nconst fetchStart = (state: WorldwideState) => {\r\n  state.status = \"pending\";\r\n  state.error = null;\r\n};\r\n\r\nconst fetchFailure = (\r\n  state: WorldwideState,\r\n  { payload }: PayloadAction<string>\r\n) => {\r\n  state.status = \"failure\";\r\n  state.error = payload;\r\n};\r\n\r\nconst statistics = createSlice({\r\n  name: \"statistics\",\r\n  initialState,\r\n  reducers: {\r\n    fetchWorldWideStart: fetchStart,\r\n\r\n    fetchWorldWideSuccess(state, { payload }: PayloadAction<WorldWide>) {\r\n      state.status = \"success\";\r\n      state.cummulative = payload;\r\n      state.error = null;\r\n    },\r\n\r\n    fetchWorldWideFailure: fetchFailure,\r\n\r\n    /***** Historical Statistics Reducers*****/\r\n    fetchAllHistoricalStart: fetchStart,\r\n\r\n    fetchAllHistoricalSuccess(\r\n      state,\r\n      { payload }: PayloadAction<HistoricalAll>\r\n    ) {\r\n      state.status = \"success\";\r\n      state.historical = payload;\r\n      state.error = null;\r\n    },\r\n\r\n    fetchAllHistoricalFailure: fetchFailure,\r\n  },\r\n});\r\n\r\nexport const {\r\n  fetchWorldWideFailure,\r\n  fetchWorldWideStart,\r\n  fetchWorldWideSuccess,\r\n  fetchAllHistoricalStart,\r\n  fetchAllHistoricalSuccess,\r\n  fetchAllHistoricalFailure,\r\n} = statistics.actions; //Action Creators\r\n\r\nexport default statistics.reducer; //Statistics Reducer\r\n\r\n/****** Thunks ******/\r\nexport const fetchWorldWide = (): AppThunk => async (dispatch) => {\r\n  try {\r\n    dispatch(fetchWorldWideStart());\r\n\r\n    const response = await getWorldWide();\r\n    dispatch(fetchWorldWideSuccess(response));\r\n  } catch (error) {\r\n    dispatch(fetchWorldWideFailure(error.message));\r\n  }\r\n};\r\n\r\nexport const fetchHistoricalAll = (): AppThunk => async (dispatch) => {\r\n  try {\r\n    dispatch(fetchAllHistoricalStart());\r\n\r\n    const response = await getAllHistorical();\r\n    dispatch(fetchAllHistoricalSuccess(response));\r\n  } catch (error) {\r\n    dispatch(fetchAllHistoricalFailure(error.message));\r\n  }\r\n};\r\n","//Country names which vary between the different api's used\r\nexport const countryNames: Record<string, string> = {\r\n  \"Bosnia and Herzegovina\": \"Bosnia\",\r\n  Burma: \"Myanmar\",\r\n  \"Congo (Brazzaville)\": \"Congo\",\r\n  \"Congo (Kinshasa)\": \"DRC\",\r\n  Eswatini: \"Swaziland\",\r\n  \"Holy See\": \"Holy See (Vatican City State)\",\r\n  \"Korea, South\": \"S. Korea\",\r\n  Laos: \"Lao People's Democratic Republic\",\r\n  Libya: \"Libyan Arab Jamahiriya\",\r\n  \"North Macedonia\": \"Macedonia\",\r\n  Syria: \"Syrian Arab Republic\",\r\n  \"Taiwan*\": \"Taiwan\",\r\n  US: \"USA\",\r\n  \"United Arab Emirates\": \"UAE\",\r\n  \"United Kingdom\": \"UK\",\r\n  \"West Bank and Gaza\": \"Palestine\",\r\n  \"Cote d'Ivoire\": \"Côte d'Ivoire\",\r\n};\r\n","import { Country, Province, WorldWide } from \"../types\";\r\nimport { countryNames } from \"./data\";\r\n\r\nexport function locationToFeature(location: any) {\r\n  return {\r\n    type: \"Feature\",\r\n    properties: {\r\n      ...location,\r\n    },\r\n    geometry: {\r\n      type: \"Point\",\r\n      coordinates: [\r\n        +location.coordinates.longitude,\r\n        +location.coordinates.latitude,\r\n      ],\r\n    },\r\n  };\r\n}\r\n\r\nexport function featuresToGeoJSON(featuresArray: any) {\r\n  return {\r\n    type: \"FeatureCollection\",\r\n    features: featuresArray,\r\n  };\r\n}\r\n\r\nexport function featuresToGeoJsonArray(featuresObject: any) {\r\n  //Converts an object tp an array of geoJSON features\r\n  return Object.values(featuresObject).map((feature) =>\r\n    locationToFeature(feature)\r\n  );\r\n}\r\n\r\nexport function commify(value: number) {\r\n  let numberString: string | string[] = String(value);\r\n\r\n  numberString = numberString.split(\"\").reverse();\r\n\r\n  numberString = numberString.reduce((prev, next, index) => {\r\n    let shouldComma = (index + 1) % 3 === 0 && index + 1 < numberString.length;\r\n\r\n    let updatedValue = `${prev}${next}`;\r\n\r\n    if (shouldComma) {\r\n      updatedValue = `${updatedValue},`;\r\n    }\r\n\r\n    return updatedValue;\r\n  }, \"\");\r\n\r\n  numberString = numberString.split(\"\").reverse().join(\"\");\r\n\r\n  return numberString;\r\n}\r\n\r\nexport function customCountryPayload(payload: Country[]) {\r\n  return payload.reduce((prev, next) => {\r\n    //Since we get data from different api's, I decided to use the format of one api response\r\n    const {\r\n      countryInfo: { lat, long, flag },\r\n    } = next;\r\n\r\n    //Creating the custom payload to match the response of only one api.\r\n    const customPayload = {\r\n      country: next.country,\r\n      active: next.active,\r\n      tests: next.tests,\r\n      flag,\r\n      stats: {\r\n        deaths: next.deaths,\r\n        recovered: next.recovered,\r\n        confirmed: next.cases,\r\n        todayCases: next.todayCases,\r\n        todayDeaths: next.todayDeaths,\r\n        todayRecovered: next.todayRecovered,\r\n      },\r\n      coordinates: { latitude: lat, longitude: long },\r\n    };\r\n\r\n    return {\r\n      ...prev,\r\n      [next.country]: customPayload,\r\n    };\r\n  }, {});\r\n}\r\n\r\nexport function iconSizeByCases(value: number) {\r\n  if (value <= 1000) {\r\n    return [4, 4];\r\n  }\r\n  if (value > 1000 && value <= 10000) {\r\n    return [6, 6];\r\n  }\r\n  if (value > 10000 && value <= 50000) {\r\n    return [8, 8];\r\n  }\r\n  if (value > 50000 && value <= 300000) {\r\n    return [10, 10];\r\n  }\r\n  if (value > 300000 && value <= 2000000) {\r\n    return [12, 12];\r\n  }\r\n  if (value > 2000000 && value <= 5000000) {\r\n    return [14, 14];\r\n  }\r\n  return [16, 16];\r\n}\r\n\r\nexport function iconSizeByPercentage(value: number) {\r\n  if (value <= 1.5) {\r\n    return [4, 4];\r\n  }\r\n  if (value > 1.5 && value <= 3) {\r\n    return [6, 6];\r\n  }\r\n  if (value > 3 && value <= 4.5) {\r\n    return [8, 8];\r\n  }\r\n  if (value > 4.5 && value <= 8) {\r\n    return [10, 10];\r\n  }\r\n  if (value > 8 && value <= 12.5) {\r\n    return [12, 12];\r\n  }\r\n  if (value > 12.5 && value <= 16) {\r\n    return [14, 14];\r\n  }\r\n  return [16, 16];\r\n}\r\n\r\nexport function setTargetData(\r\n  worldwide: WorldWide,\r\n  countries: Record<string, Province>,\r\n  targetData: string\r\n) {\r\n  let targetCountry = countries[targetData];\r\n\r\n  const { affectedCountries, updated } = worldwide;\r\n  let customWorldwide;\r\n\r\n  if (targetCountry) {\r\n    let stats = targetCountry.stats;\r\n\r\n    customWorldwide = {\r\n      active: targetCountry.active,\r\n      cases: stats.confirmed,\r\n      deaths: stats.deaths,\r\n      recovered: stats.recovered,\r\n      todayCases: stats.todayCases,\r\n      todayDeaths: stats.todayDeaths,\r\n      todayRecovered: stats.todayRecovered,\r\n      updated,\r\n      affectedCountries,\r\n    };\r\n  }\r\n\r\n  if (targetData === \"Global\") {\r\n    customWorldwide = worldwide;\r\n  }\r\n\r\n  return customWorldwide as WorldWide;\r\n}\r\n\r\nfunction matchCountryNames(province: Province[]) {\r\n  //The two api's used return varying country names. This function matches the varying country names.\r\n  //It is only necessacry since we use two different api's.\r\n\r\n  let newResponse: Province[] = [];\r\n\r\n  province.forEach((resp) => {\r\n    if (\r\n      resp.country === \"Kosovo\" ||\r\n      resp.province === \"Unknown\" ||\r\n      resp.province === \"Recovered\"\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    if (!countryNames[resp.country]) {\r\n      newResponse.push(resp);\r\n    }\r\n\r\n    if (countryNames[resp.country]) {\r\n      resp.country = countryNames[resp.country];\r\n      newResponse.push(resp);\r\n    }\r\n  });\r\n\r\n  return newResponse;\r\n}\r\n\r\nexport function customProvincePayload(payload: Province[]) {\r\n  let newPayload = matchCountryNames(payload);\r\n\r\n  const normalizedPayload = newPayload.reduce((prev, next) => {\r\n    return {\r\n      ...prev,\r\n      [`${next.province ? `${next.province},` : \"\"} ${next.country}`]: next,\r\n    };\r\n  }, {});\r\n\r\n  return normalizedPayload;\r\n}\r\n","import L, { map } from \"leaflet\";\r\nimport { iconSizeByCases, commify, iconSizeByPercentage } from \"./helpers\";\r\n\r\nconst accessToken = process.env.REACT_APP_TOKEN;\r\n\r\nexport const tileLayer = `https://api.mapbox.com/styles/v1/kriszzy01/ckkcxmtt12ax117mn75yqjd4a/tiles/256/{z}/{x}/{y}@2x?access_token=${accessToken}`;\r\nexport const attribution =\r\n  'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>';\r\n\r\nexport function dynamicFlyTo(targetData, countries, mapInstance) {\r\n  let targetCountry = countries[targetData];\r\n\r\n  if (targetCountry) {\r\n    const {\r\n      coordinates: { latitude, longitude },\r\n    } = countries[targetData];\r\n\r\n    const latlng = L.latLng(+latitude, +longitude);\r\n    mapInstance.flyTo(latlng, 5);\r\n  }\r\n}\r\n\r\nexport function geoJsonToMarkers(geoJson, dataType, option) {\r\n  return L.geoJSON(geoJson, {\r\n    pointToLayer: markerCreator(dataType, option),\r\n  });\r\n}\r\n\r\nfunction markerCreator(dataType, targetDataFunction) {\r\n  return (feature, latLng) => {\r\n    const markerProps = getMarkerProps(feature, dataType);\r\n    const marker = L.marker(latLng, {\r\n      icon: L.divIcon({\r\n        className: `icon ${markerProps.class}`,\r\n        iconSize:\r\n          markerProps.class === \"icon-ratio\"\r\n            ? iconSizeByPercentage(markerProps.size)\r\n            : iconSizeByCases(markerProps.size),\r\n      }),\r\n    });\r\n\r\n    marker.bindPopup(markerProps.html); //Add popup html markup\r\n    marker.bindTooltip(markerProps.html); //Add tooltil to display on marker hover\r\n\r\n    marker.on(\"click\", ({ target: { _map: map, feature }, latlng }) => {\r\n      targetDataFunction(feature.properties.country); //Dispatch event to set single country\r\n\r\n      map.flyTo(latlng, 5); //Fly to a marker, zooming in with zoom level of 3\r\n    }); //Handle Clicking a map\r\n\r\n    return marker;\r\n  };\r\n}\r\n\r\nfunction getMarkerProps(feature, dataType) {\r\n  const {\r\n    properties: { stats, active, tests, province, country },\r\n  } = feature;\r\n\r\n  switch (dataType) {\r\n    case \"Active\":\r\n      return {\r\n        size: active,\r\n        class: \"icon-active\",\r\n        html: `\r\n      <div>\r\n          <h2>${province ? `${province},` : \"\"} ${country}</h2>\r\n          <p>\r\n            <span class=\"color-active\">${commify(active)}</span> \r\n              Active Cases\r\n          </p>\r\n      </div>\r\n      `,\r\n      };\r\n\r\n    case \"Tests\":\r\n      return {\r\n        size: tests / 25,\r\n        class: \"icon-tests\",\r\n        html: `\r\n      <div>\r\n          <h2>${province ? `${province},` : \"\"} ${country}</h2>\r\n          <p>\r\n            <span class=\"color-active\">${commify(\r\n              tests\r\n            )}</span> Tests carried out\r\n          </p>\r\n      </div>\r\n      `,\r\n      };\r\n\r\n    case \"Case-Fatality Ratio\":\r\n      return {\r\n        size: (stats.deaths * 100) / stats.confirmed,\r\n        class: \"icon-ratio\",\r\n        html: `\r\n      <div>\r\n          <h2>${province ? `${province},` : \"\"} ${country}</h2>\r\n          <p>\r\n            <span class=\"color-deaths\">\r\n              ${((stats.deaths * 100) / stats.confirmed).toFixed(\r\n                2\r\n              )}</span>% Case-Fatality Ratio\r\n          </p>\r\n      </div>\r\n      `,\r\n      };\r\n\r\n    default:\r\n      return {\r\n        size: stats.confirmed,\r\n        class: \"\",\r\n        html: `\r\n      <div>\r\n          <h2>${province ? `${province},` : \"\"} ${country}</h2>\r\n          <p>\r\n            <span class=\"color-active\">${commify(\r\n              stats.confirmed\r\n            )}</span> Cases</p>\r\n          <p>\r\n            <span class=\"color-deaths\">${commify(\r\n              stats.deaths\r\n            )}</span> Deaths</p>\r\n          <p>\r\n            <span class=\"color-recovered\">${commify(\r\n              stats.recovered\r\n            )}</span> Recovered</p>\r\n      </div>\r\n      `,\r\n      };\r\n  }\r\n}\r\n","interface ChartData {\r\n  x: string;\r\n  y: number;\r\n}\r\n\r\nexport function historicalToChartData(data: Record<string, number>) {\r\n  let convertedData: ChartData[] = [];\r\n  let lastData;\r\n\r\n  for (let key in data) {\r\n    if (lastData) {\r\n      convertedData = [\r\n        ...convertedData,\r\n        { x: key, y: lastData ? data[key] - lastData : data[key] },\r\n      ];\r\n    }\r\n    lastData = data[key];\r\n  }\r\n\r\n  return convertedData;\r\n}\r\n\r\nexport const chartOptions = {\r\n  bar: {\r\n    scales: {\r\n      yAxes: [\r\n        {\r\n          ticks: {\r\n            beginAtZero: true,\r\n          },\r\n          gridLines: {\r\n            display: false,\r\n          },\r\n        },\r\n      ],\r\n      xAxes: [\r\n        {\r\n          type: \"time\",\r\n          time: {\r\n            unit: \"month\",\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  line: {},\r\n};\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { CountryState, Country, AppThunk } from \"../types\";\r\nimport { customCountryPayload } from \"../utils\";\r\nimport { getCountries } from \"../api\";\r\n\r\nconst initialState: CountryState = {\r\n  status: \"idle\",\r\n  error: null,\r\n  cummulative: {},\r\n  historical: {},\r\n};\r\n\r\nconst country = createSlice({\r\n  name: \"country\",\r\n  initialState,\r\n  reducers: {\r\n    fetchCountryStart(state) {\r\n      state.status = \"pending\";\r\n      state.error = null;\r\n    },\r\n\r\n    fetchCountrySuccess(state, { payload }: PayloadAction<Country[]>) {\r\n      const normalizedPayload = customCountryPayload(payload); //Customize the payload object to match province payload object\r\n\r\n      state.status = \"success\";\r\n      state.cummulative = normalizedPayload;\r\n      state.error = null;\r\n    },\r\n\r\n    fetchCountryFailure(state, { payload }: PayloadAction<string>) {\r\n      state.status = \"failure\";\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  fetchCountryStart,\r\n  fetchCountrySuccess,\r\n  fetchCountryFailure,\r\n} = country.actions;\r\n\r\nexport default country.reducer;\r\n\r\n/****** Thunks ******/\r\nexport const fetchCountry = (): AppThunk => async (dispatch) => {\r\n  try {\r\n    dispatch(fetchCountryStart());\r\n\r\n    const response = await getCountries();\r\n    dispatch(fetchCountrySuccess(response));\r\n  } catch (error) {\r\n    dispatch(fetchCountryFailure(error.message));\r\n  }\r\n};\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { ProvinceState, Province, AppThunk } from \"../types\";\r\nimport { getProvince } from \"../api\";\r\nimport { customProvincePayload } from \"../utils\";\r\n\r\nconst initialState: ProvinceState = {\r\n  status: \"idle\",\r\n  error: null,\r\n  cummulative: {},\r\n  historical: {},\r\n};\r\n\r\nconst country = createSlice({\r\n  name: \"country\",\r\n  initialState,\r\n  reducers: {\r\n    fetchProvinceStart(state) {\r\n      state.status = \"pending\";\r\n      state.error = null;\r\n    },\r\n\r\n    fetchProvinceSuccess(state, { payload }: PayloadAction<Province[]>) {\r\n      const normalizedPayload = customProvincePayload(payload);\r\n\r\n      state.status = \"success\";\r\n      state.cummulative = normalizedPayload;\r\n      state.error = null;\r\n    },\r\n\r\n    fetchProvinceFailure(state, { payload }: PayloadAction<string>) {\r\n      state.status = \"failure\";\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  fetchProvinceStart,\r\n  fetchProvinceSuccess,\r\n  fetchProvinceFailure,\r\n} = country.actions;\r\n\r\nexport default country.reducer;\r\n\r\n/****** Thunks ******/\r\nexport const fetchProvince = (): AppThunk => async (dispatch) => {\r\n  try {\r\n    dispatch(fetchProvinceStart());\r\n\r\n    const response = await getProvince();\r\n\r\n    dispatch(fetchProvinceSuccess(response));\r\n  } catch (error) {\r\n    dispatch(fetchProvinceFailure(error.message));\r\n  }\r\n};\r\n","import { RootState } from \"../types\";\r\n\r\nexport const getProvince = (state: RootState) => state.province.cummulative;\r\nexport const getWorldwide = (state: RootState) => state.worldwide.cummulative;\r\nexport const getCountry = (state: RootState) => state.country.cummulative;\r\nexport const getMapData = (state: RootState) => state.mapData.activeData;\r\nexport const getTargetData = (state: RootState) => state.mapData.targetData;\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  activeData: \"Cummulative\",\r\n  targetData: \"Global\",\r\n};\r\n\r\nconst map = createSlice({\r\n  name: \"mapData\",\r\n  initialState,\r\n  reducers: {\r\n    setMapData(state, { payload }: PayloadAction<string>) {\r\n      state.activeData = payload;\r\n    },\r\n    setTargetData(state, { payload }: PayloadAction<string>) {\r\n      state.targetData = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setMapData, setTargetData } = map.actions;\r\n\r\nexport default map.reducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Province } from \"../types\";\r\nimport { setTargetData } from \"../slices/map\";\r\n\r\ninterface Dropdown {\r\n  searchResult: Province[];\r\n  searchTerm: string;\r\n  setSearchTerm: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nexport const Dropdown: React.FC<Dropdown> = ({\r\n  searchResult,\r\n  searchTerm,\r\n  setSearchTerm,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const isSearchResults = searchResult.length > 0;\r\n\r\n  const handleClick = (country: string) => {\r\n    dispatch(setTargetData(country));\r\n    setSearchTerm(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    //Stop scrolling on body if dropdown is open\r\n    if (searchTerm) {\r\n      document.querySelector(\"body\")?.setAttribute(\"data-scroll\", \"\");\r\n    }\r\n\r\n    return () => {\r\n      document.querySelector(\"body\")?.removeAttribute(\"data-scroll\");\r\n    };\r\n  }, [searchTerm !== \"\"]);\r\n\r\n  return (\r\n    <div className=\"dropdown\" id=\"dropdown\" data-expanded={searchTerm !== \"\"}>\r\n      {isSearchResults ? (\r\n        <ul>\r\n          {searchResult.map(({ flag, country: name }) => {\r\n            return (\r\n              <li key={name} onClick={() => handleClick(name)}>\r\n                <span>\r\n                  <img src={flag} alt={`flag of ${name}`} />\r\n                </span>\r\n                <span>{name}</span>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      ) : (\r\n        <p>Country not found</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCountry } from \"../selectors\";\r\nimport { Dropdown } from \"./Dropdown\";\r\nimport { useSearchbar } from \"../hooks\";\r\n\r\ninterface SearchbarProps {\r\n  setOpenSearchbar: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const Searchbar: React.FC<SearchbarProps> = ({ setOpenSearchbar }) => {\r\n  const searchbarRef = useRef<HTMLDivElement>(null);\r\n  const [searchInput, setSearchInput] = useSearchbar(\"\", searchbarRef);\r\n\r\n  const countries = useSelector(getCountry);\r\n\r\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) =>\r\n    setSearchInput(event.target.value);\r\n\r\n  const handleCloseSearchBar = () => {\r\n    setSearchInput(\"\");\r\n    setOpenSearchbar(false);\r\n  };\r\n\r\n  const searchResult = Object.values(countries).filter(({ country }) =>\r\n    searchInput === \"\"\r\n      ? null\r\n      : country.toLowerCase().startsWith(searchInput.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"searchbar-container\" ref={searchbarRef}>\r\n      <div className=\"searchbar\">\r\n        <div>\r\n          <span aria-hidden=\"true\" style={{ height: \"24px\" }}>\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\">\r\n              <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n              <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\r\n            </svg>\r\n          </span>\r\n\r\n          <input\r\n            type=\"text\"\r\n            value={searchInput}\r\n            placeholder=\"Search by Country\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n\r\n        <Dropdown\r\n          searchResult={searchResult}\r\n          searchTerm={searchInput}\r\n          setSearchTerm={setSearchInput}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"close searchbar\"\r\n        style={{ height: \"24px\" }}\r\n        onClick={handleCloseSearchBar}\r\n      >\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\">\r\n          <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n          <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport const useSearchbar = (\r\n  initialValue: string,\r\n  ref: React.RefObject<HTMLDivElement>\r\n) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const handleClickOutside = (event: any) => {\r\n    if (ref.current && !ref.current.contains(event.target)) {\r\n      setValue(\"\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return [value, setValue] as const;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Searchbar } from \"../components/Searchbar\";\r\n\r\nexport const Header: React.FC = () => {\r\n  const [openSearchbar, setOpenSearchbar] = useState(false);\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n\r\n  return (\r\n    <header>\r\n      <div data-searchcountry={openSearchbar}>\r\n        <button\r\n          type=\"button\"\r\n          aria-labelledby=\"open menu\"\r\n          aria-expanded={openMenu}\r\n          onClick={() => setOpenMenu(!openMenu)}\r\n        >\r\n          <span className=\"vh\" id=\"menu-label\">\r\n            {openMenu ? \"close menu\" : \"open menu\"}\r\n          </span>\r\n        </button>\r\n\r\n        <h1>COVID-19 Dashboard</h1>\r\n\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"open searchbar\"\r\n          style={{ height: \"24px\" }}\r\n          onClick={() => setOpenSearchbar(!openSearchbar)}\r\n        >\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" width=\"24\">\r\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n            <path d=\"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path>\r\n          </svg>\r\n        </button>\r\n\r\n        <Searchbar setOpenSearchbar={setOpenSearchbar} />\r\n\r\n        <nav>\r\n          <a role=\"presentation\">Overview</a>\r\n          <a role=\"presentation\">Data Table</a>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { commify } from \"../utils\";\r\n\r\ninterface PillProps {\r\n  title: string;\r\n  today: number;\r\n  total: number;\r\n}\r\n\r\nexport const Card: React.FC<PillProps> = ({ title, today, total }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <h2 className={`color-${title?.toLowerCase()}`}>{title}</h2>\r\n      <p>{commify(today)} <span>Today</span></p>\r\n      <p>{commify(total)} <span>Total</span></p>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useMap } from \"react-leaflet\";\r\nimport { setMapData } from \"../slices/map\";\r\nimport { setTargetData } from \"../slices/map\";\r\n\r\nimport {\r\n  getProvince,\r\n  getMapData,\r\n  getCountry,\r\n  getTargetData,\r\n} from \"../selectors\";\r\n\r\nimport {\r\n  geoJsonToMarkers,\r\n  featuresToGeoJSON,\r\n  featuresToGeoJsonArray,\r\n  dynamicFlyTo,\r\n} from \"../utils\";\r\n\r\nconst tabItems = [\"Cummulative\", \"Active\", \"Tests\", \"Case-Fatality Ratio\"];\r\n\r\nexport const MapControls: React.FC = () => {\r\n  const mapInstance = useMap(); //Instance of the map object\r\n  const dispatch = useDispatch();\r\n\r\n  const provinces = useSelector(getProvince);\r\n  const countries = useSelector(getCountry);\r\n  const activeData = useSelector(getMapData);\r\n  const targetData = useSelector(getTargetData);\r\n\r\n  const provinceGeoJson = featuresToGeoJsonArray(provinces);\r\n  const countriesGeoJson = featuresToGeoJsonArray(countries);\r\n\r\n  const geoJsonArray =\r\n    activeData.includes(\"Cummulative\") || activeData.includes(\"Ratio\")\r\n      ? provinceGeoJson\r\n      : countriesGeoJson;\r\n\r\n  const handleMarkerClick = (data: string) => dispatch(setTargetData(data));\r\n  dynamicFlyTo(targetData, countries, mapInstance); //Map flies to the cordinates of a location, which is determined by the selected country\r\n\r\n  const locationsGeoJsonLayers = geoJsonToMarkers(\r\n    featuresToGeoJSON(geoJsonArray),\r\n    activeData,\r\n    handleMarkerClick\r\n  );\r\n\r\n  const handleGlobeButton = () => {\r\n    const zoom = window.innerWidth > 700 ? 2 : 1;\r\n    \r\n    mapInstance.setView([20, 0], zoom);\r\n    dispatch(setTargetData(\"Global\"));\r\n  };\r\n\r\n  //App re-renders only when activeData changes, hence no need for dependency array\r\n  //since this is the intended behaviour\r\n  useEffect(() => {\r\n    locationsGeoJsonLayers.addTo(mapInstance);\r\n\r\n    return () => {\r\n      locationsGeoJsonLayers.removeFrom(mapInstance); //Clear all markers from map\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"mapcontrols\">\r\n      <div className=\"mapcontrols__buttons\">\r\n        {tabItems.map((item) => (\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => dispatch(setMapData(item))}\r\n            data-selected={activeData === item}\r\n            key={item}\r\n          >\r\n            {item}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <button type=\"button\" aria-label=\"view globe\" onClick={handleGlobeButton}>\r\n        <svg width=\"20\" height=\"20\">\r\n          <path\r\n            fill=\"white\"\r\n            d=\"M6.64 3.928C7.5 1.478 8.785 0 10 0c1.216 0 2.5 1.478 3.36 3.928H6.64zM6.75.544a10.022 10.022 0 00-4.688 3.384h3.072C5.484 2.72 6.03 1.576 6.75.544zM4.284 10c-.005-1.56.155-3.117.478-4.644H1.147a9.975 9.975 0 000 9.288h3.615A22.031 22.031 0 014.284 10zm1.432 0c-.01 1.563.163 3.121.515 4.644h7.538c.352-1.523.525-3.081.515-4.644a20.078 20.078 0 00-.515-4.644H6.23A20.078 20.078 0 005.716 10zm12.222-6.072A10.022 10.022 0 0013.25.544a11.522 11.522 0 011.616 3.384h3.072zM13.25 19.456a10.022 10.022 0 004.688-3.384h-3.072a11.522 11.522 0 01-1.616 3.384zM2.062 16.072a10.022 10.022 0 004.688 3.384 11.522 11.522 0 01-1.616-3.384H2.062zM15.238 5.356c.323 1.527.483 3.084.478 4.644a22.031 22.031 0 01-.478 4.644h3.615a9.975 9.975 0 000-9.288h-3.615zM6.64 16.072C7.5 18.522 8.784 20 10 20c1.216 0 2.5-1.478 3.36-3.928H6.64z\"\r\n            fillRule=\"nonzero\"\r\n          ></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport L from \"leaflet\";\r\nimport { MapContainer } from \"react-leaflet\";\r\n\r\nexport const Map: React.FC = ({ children }) => {\r\n  /*The farthest East longitude of a map is 180, West is -180.\r\n  The farthest North Latitude of a map is 90, South is -90. \r\n  We use the farthest longitudes and latitudes to bound the map. This ensures we can't view anything outside these bounds.\r\n  Since the map is bound to the farthest latitudes and longtitudes, the map view is restricted to the whole world.\r\n  */\r\n  const southWest = new L.LatLng(-90, -180); //South-west point for the bound\r\n  const northEast = new L.LatLng(90, 180); //North-east point for the bound\r\n  const bounds = L.latLngBounds(southWest, northEast); //Sets and restricts the map view to a geopgraphical region, in this case the world\r\n  const zoom = window.innerWidth > 700 ? 2 : 1; //Set the zoom depending on the device width\r\n\r\n  return (\r\n    <div>\r\n      <MapContainer\r\n        center={[20, 0]}\r\n        zoom={zoom}\r\n        minZoom={zoom}\r\n        zoomControl={false}\r\n        maxBounds={bounds}\r\n        maxBoundsViscosity={0.75}\r\n      >\r\n        {children}\r\n      </MapContainer>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { TileLayer, ZoomControl } from \"react-leaflet\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getWorldwide, getCountry, getTargetData } from \"../selectors\";\r\nimport { Card } from \"../components/Card\";\r\nimport { MapControls } from \"../components/MapControls\";\r\nimport { Map } from \"../blocks/Map\";\r\nimport { attribution, commify, tileLayer, setTargetData } from \"../utils\";\r\n\r\nexport const DataSummary: React.FC = () => {\r\n  const world = useSelector(getWorldwide);\r\n  const countries = useSelector(getCountry);\r\n  const targetData = useSelector(getTargetData);\r\n\r\n  const {\r\n    active,\r\n    cases,\r\n    deaths,\r\n    recovered,\r\n    todayCases,\r\n    todayDeaths,\r\n    todayRecovered,\r\n    updated,\r\n    affectedCountries,\r\n  } = setTargetData(world, countries, targetData);\r\n\r\n  return (\r\n    <div className=\"summary\">\r\n      <div className=\"summary__data\">\r\n        <div>\r\n          <Card title=\"Active\" today={todayCases} total={active} />\r\n          <Card title=\"Recovered\" today={todayRecovered} total={recovered} />\r\n          <Card title=\"Deaths\" today={todayDeaths} total={deaths} />\r\n        </div>\r\n\r\n        <Map>\r\n          <TileLayer attribution={attribution} url={tileLayer} />\r\n          <ZoomControl position=\"bottomright\" />\r\n          <MapControls />\r\n        </Map>\r\n      </div>\r\n\r\n      <div className=\"summary__text\">\r\n        <h3>\r\n          <span>\r\n            {targetData === \"Global\" ? \"Globally\" : `In ${targetData}`}\r\n          </span>\r\n          , as of <span>{new Date(updated).toString()}</span>, there has been{\" \"}\r\n          <span className=\"color-active\">{commify(cases)} confirmed cases</span>{\" \"}\r\n          of COVID-19, including{\" \"}\r\n          <span className=\"color-deaths\">{commify(deaths)} deaths</span>{\" \"}\r\n          reported by Johns Hopkins University.\r\n        </h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport \"./styles/style.scss\";\r\n\r\nimport { fetchWorldWide } from \"./slices/worldwide\";\r\n\r\nimport { fetchCountry } from \"./slices/country\";\r\nimport { fetchProvince } from \"./slices/province\";\r\n\r\nimport { Header } from \"./blocks/Header\";\r\nimport { DataSummary } from \"./blocks/DataSummary\";\r\nimport { DataChart } from \"./blocks/DataChart\";\r\n\r\nconst App: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProvince());\r\n    dispatch(fetchWorldWide());\r\n    dispatch(fetchCountry());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <main>\r\n        <DataSummary />\r\n      </main>\r\n      <footer></footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport worldwideReducer from \"./worldwide\";\r\nimport mapDataReducer from \"./map\";\r\nimport countryReducer from \"./country\";\r\nimport provinceReducer from \"./province\";\r\n\r\nconst rootReducer = combineReducers({\r\n  worldwide: worldwideReducer,\r\n  mapData: mapDataReducer,\r\n  country: countryReducer,\r\n  province: provinceReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport rootReducer from \"./slices\";\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n});\r\n\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}